from django.test import TestCase

import json
from .harvest import *
from .views import *

class TestCrossref(TestCase):

    def test_parse_crossref(self):
        data1 = json.loads('''
            {"status":"ok","message-type":"work","message-version":"1.0.0","message":{"indexed":{"date-parts":[[2021,7,5]],"date-time":"2021-07-05T12:56:32Z","timestamp":1625489792397},"reference-count":25,"publisher":"Elsevier BV","issue":"3","license":[{"URL":"https:\/\/www.elsevier.com\/tdm\/userlicense\/1.0\/","start":{"date-parts":[[1986,9,1]],"date-time":"1986-09-01T00:00:00Z","timestamp":525916800000},"delay-in-days":0,"content-version":"tdm"}],"content-domain":{"domain":[],"crossmark-restriction":false},"short-container-title":["Artificial Intelligence"],"published-print":{"date-parts":[[1986,9]]},"DOI":"10.1016\/0004-3702(86)90073-1","type":"journal-article","created":{"date-parts":[[2003,3,14]],"date-time":"2003-03-14T13:02:52Z","timestamp":1047646972000},"page":"289-338","source":"Crossref","is-referenced-by-count":873,"title":["Qualitative simulation"],"prefix":"10.1016","volume":"29","author":[{"given":"Benjamin","family":"Kuipers","sequence":"first","affiliation":[]}],"member":"78","reference":[{"key":"10.1016\/0004-3702(86)90073-1_BIB1","author":"Arnold","year":"1973"},{"key":"10.1016\/0004-3702(86)90073-1_BIB2","doi-asserted-by":"crossref","first-page":"121","DOI":"10.1207\/s15516709cog0502_2","article-title":"Categorization and representation of physics problems by experts and novices","volume":"5","author":"Chi","year":"1982","journal-title":"Cognitive Sci."},{"key":"10.1016\/0004-3702(86)90073-1_BIB3","author":"de Kleer","year":"1977","article-title":"Multiple representations of knowledge in a mechanics problem-solver","series-title":"Proceedings Fifth International Joint Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB4","author":"de Kleer","year":"1978","series-title":"Causal and teleological reasoning in circuit recognition"},{"key":"10.1016\/0004-3702(86)90073-1_BIB5","author":"de Kleer","year":"1979","article-title":"The origin and resolution of ambiguities in causal arguments","series-title":"Proceedings Sixth International Joint Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB6","author":"de Kleer","year":"1984","article-title":"Qualitative reasoning with higher-order derivatives","series-title":"Proceedings Fourth National Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB7","author":"de Kleer","year":"1983","article-title":"The origin, form, and logic of qualitative physical laws","series-title":"Proceedings Eighth International Joint Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB8","doi-asserted-by":"crossref","first-page":"7","DOI":"10.1016\/0004-3702(84)90037-7","article-title":"A qualitative physics based on confluences","volume":"24","author":"de Kleer","year":"1984","journal-title":"Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB9","author":"Forbus","year":"1981","article-title":"Qualitative reasoning about physical processes","series-title":"Proceedings Seventh International Joint Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB10","author":"Forbus","year":"1982","series-title":"Qualitative process theory"},{"key":"10.1016\/0004-3702(86)90073-1_BIB11","author":"Forbus","year":"1983","article-title":"Measurement interpretation in qualitative process theory","series-title":"Proceedings Eighth International Joint Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB12","doi-asserted-by":"crossref","first-page":"85","DOI":"10.1016\/0004-3702(84)90038-9","article-title":"Qualitative process theory","volume":"24","author":"Forbus","year":"1984","journal-title":"Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB13","year":"1983"},{"key":"10.1016\/0004-3702(86)90073-1_BIB14","author":"Hayes","year":"1979","article-title":"The naive physics manifesto","series-title":"Expert Systems in the Micro-electronic Age"},{"key":"10.1016\/0004-3702(86)90073-1_BIB15","author":"Kuipers","year":"1982","article-title":"Getting the envisionment right","series-title":"Proceedings Second National Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB16","doi-asserted-by":"crossref","first-page":"169","DOI":"10.1016\/0004-3702(84)90039-0","article-title":"Commonsense reasoning about causality: Deriving behavior from structure","volume":"24","author":"Kuipers","year":"1984","journal-title":"Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB17","author":"Kuipers","year":"1985","article-title":"The limits of qualitative simulation","series-title":"Proceedings Ninth International Joint Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB18","author":"Kuipers","year":"1983","article-title":"How to discover a knowledge representation for causal reasoning by studying an expert physician","series-title":"Proceedings Eighth International Joint Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB19","doi-asserted-by":"crossref","first-page":"363","DOI":"10.1207\/s15516709cog0804_3","article-title":"Causal reasoning in medicine: Analysis of a protocol","volume":"8","author":"Kuipers","year":"1984","journal-title":"Cognitive Sci."},{"key":"10.1016\/0004-3702(86)90073-1_BIB20","author":"Kuipers","year":"1985","series-title":"Qualitative simulation in medical physiology: A progress report"},{"key":"10.1016\/0004-3702(86)90073-1_BIB21","doi-asserted-by":"crossref","first-page":"99","DOI":"10.1016\/0004-3702(77)90007-8","article-title":"Consistency in networks of relations","volume":"8","author":"Mackworth","year":"1977","journal-title":"Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB22","doi-asserted-by":"crossref","first-page":"65","DOI":"10.1016\/0004-3702(85)90041-4","article-title":"The complexity of some polynomial network consistency algorithms for constraint satisfaction problems","volume":"25","author":"Mackworth","year":"1985","journal-title":"Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB23","author":"Waltz","year":"1975","article-title":"Understanding line drawings of scenes with shadows","series-title":"The Psychology of Computer Vision"},{"key":"10.1016\/0004-3702(86)90073-1_BIB24","author":"Williams","year":"1984","article-title":"The use of continuity in a qualitative physics","series-title":"Proceedings Fourth National Conference on Artificial Intelligence"},{"key":"10.1016\/0004-3702(86)90073-1_BIB25","doi-asserted-by":"crossref","first-page":"281","DOI":"10.1016\/0004-3702(84)90041-9","article-title":"Qualitative analysis of MOS circuits","volume":"24","author":"Williams","year":"1984","journal-title":"Artificial Intelligence"}],"container-title":["Artificial Intelligence"],"original-title":[],"language":"en","link":[{"URL":"https:\/\/api.elsevier.com\/content\/article\/PII:0004370286900731?httpAccept=text\/xml","content-type":"text\/xml","content-version":"vor","intended-application":"text-mining"},{"URL":"https:\/\/api.elsevier.com\/content\/article\/PII:0004370286900731?httpAccept=text\/plain","content-type":"text\/plain","content-version":"vor","intended-application":"text-mining"}],"deposited":{"date-parts":[[2019,3,26]],"date-time":"2019-03-26T23:55:28Z","timestamp":1553644528000},"score":1.0,"subtitle":[],"short-title":[],"issued":{"date-parts":[[1986,9]]},"references-count":25,"journal-issue":{"published-print":{"date-parts":[[1986,9]]},"issue":"3"},"alternative-id":["0004370286900731"],"URL":"http:\/\/dx.doi.org\/10.1016\/0004-3702(86)90073-1","relation":{"cites":[]},"ISSN":["0004-3702"],"issn-type":[{"value":"0004-3702","type":"print"}]}}
        ''')

        data2 = json.loads('''
            {"status":"ok","message-type":"work","message-version":"1.0.0","message":{"indexed":{"date-parts":[[2021,7,9]],"date-time":"2021-07-09T13:23:58Z","timestamp":1625837038982},"reference-count":31,"publisher":"Elsevier BV","issue":"3","license":[{"URL":"https:\/\/www.elsevier.com\/tdm\/userlicense\/1.0\/","start":{"date-parts":[[2021,3,1]],"date-time":"2021-03-01T00:00:00Z","timestamp":1614556800000},"delay-in-days":0,"content-version":"tdm"}],"content-domain":{"domain":["clinicalkey.jp","clinicalkey.com","clinicalkey.es","clinicalkey.com.au","clinicalkey.fr","elsevier.com","sciencedirect.com"],"crossmark-restriction":true},"short-container-title":["Current Problems in Cardiology"],"published-print":{"date-parts":[[2021,3]]},"DOI":"10.1016\/j.cpcardiol.2020.100742","type":"journal-article","created":{"date-parts":[[2020,11,2]],"date-time":"2020-11-02T14:27:15Z","timestamp":1604327235000},"page":"100742","update-policy":"http:\/\/dx.doi.org\/10.1016\/elsevier_cm_policy","source":"Crossref","is-referenced-by-count":6,"title":["Thrombosis and Coagulopathy in COVID-19"],"prefix":"10.1016","volume":"46","author":[{"given":"Juan Esteban","family":"G\u00f3mez-Mesa","sequence":"first","affiliation":[]},{"given":"Stephania","family":"Galindo-Coral","sequence":"additional","affiliation":[]},{"given":"Maria Claudia","family":"Montes","sequence":"additional","affiliation":[]},{"given":"Andr\u00e9s J.","family":"Mu\u00f1oz Martin","sequence":"additional","affiliation":[]}],"member":"78","reference":[{"key":"10.1016\/j.cpcardiol.2020.100742_bib0001","doi-asserted-by":"crossref","first-page":"2950","DOI":"10.1016\/j.jacc.2020.04.031","article-title":"COVID-19 and thrombotic or thromboembolic disease: implications for prevention, antithrombotic therapy, and follow-up: JACC state-of-the-art review","volume":"75","author":"Bikdeli","year":"2020","journal-title":"J Am Coll Cardiol"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0002","doi-asserted-by":"crossref","first-page":"271","DOI":"10.4081\/monaldi.2020.1300","article-title":"COVID-19 and coagulative axis: review of emerging aspects in a novel disease","volume":"90","author":"Boccia","year":"2020","journal-title":"Monaldi Arch Chest Dis"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0003","first-page":"19","article-title":"Chinese expert consensus on diagnosis and treatment of coagulation dysfunction in COVID-19","volume":"7","author":"Song","year":"2020","journal-title":"Mil Med Res"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0004","unstructured":"World Health Organization. Clinical management of severe acute respiratory infection (SARI) when COVID-19 disease is suspected: Interim guidance V 1.2. 2020; 1\u201321","DOI":"10.15557\/PiMR.2020.0003","doi-asserted-by":"crossref"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0005","doi-asserted-by":"crossref","first-page":"203","DOI":"10.9739\/tjvs.2020.734","article-title":"Treatment and prophylaxis strategies for deep vein thrombosis during COVID-19 outbreak","volume":"29","author":"G\u00fcnertem","year":"2020","journal-title":"Turk J Vasc Surg"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0006","doi-asserted-by":"crossref","first-page":"2033","DOI":"10.1182\/blood.2020006000","article-title":"COVID-19 and its implications for thrombosis and anticoagulation","volume":"135","author":"Connors","year":"2020","journal-title":"Blood. Blood."},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0007","doi-asserted-by":"crossref","first-page":"749","DOI":"10.1016\/j.recesp.2020.04.006","article-title":"Recomendaciones sobre el tratamiento antitromb\u00f3tico durante la pandemia COVID-19. Posicionamiento del Grupo de Trabajo de Trombosis Cardiovascular de la Sociedad Espa\u00f1ola de Cardiolog\u00eda","volume":"73","author":"Vivas","year":"2020","journal-title":"Rev Esp Cardiol"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0008","doi-asserted-by":"crossref","first-page":"1708","DOI":"10.1056\/NEJMoa2002032","article-title":"Clinical characteristics of Coronavirus disease 2019 in China","volume":"382","author":"Guan","year":"2020","journal-title":"N Engl J Med"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0009","doi-asserted-by":"crossref","first-page":"1612","DOI":"10.1001\/jama.2020.4326","article-title":"Characteristics and outcomes of 21 critically ill patients with COVID-19 in Washington state","volume":"323","author":"Arentz","year":"2020","journal-title":"JAMA"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0010","author":"Tang","year":"2020","article-title":"Anticoagulant treatment is associated with decreased mortality in severe coronavirus disease 2019 in patients with coagulopathy","journal-title":"J Thromb Haemost"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0011","volume":"2","first-page":"113","year":"2020","article-title":"The epidemiological characteristics of an outbreak of 2019 novel coronavirus diseases (COVID-19) \u2014 China, 2020","journal-title":"China CDC Weekly","DOI":"10.46234\/ccdcw2020.032","doi-asserted-by":"crossref"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0012","first-page":"167","article-title":"COVID-19 and haemostasis: a position paper from Italian Society on Thrombosis and Haemostasis (SISET)","volume":"18","author":"Marietta","year":"2020","journal-title":"Blood Transfus"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0013","doi-asserted-by":"crossref","first-page":"9","DOI":"10.1016\/j.thromres.2020.04.024","article-title":"Venous and arterial thromboembolic complications in COVID-19 patients admitted to an academic hospital in Milan, Italy","volume":"191","author":"Lodigiani","year":"2020","journal-title":"Thromb Res"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0014","doi-asserted-by":"crossref","first-page":"e438","DOI":"10.1016\/S2352-3026(20)30145-9","article-title":"Coagulation abnormalities and thrombosis in patients with COVID-19","volume":"7","author":"Levi","year":"2020","journal-title":"Lancet Haematol"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0015","doi-asserted-by":"crossref","first-page":"1023","DOI":"10.1111\/jth.14810","article-title":"ISTH interim guidance on recognition and management of coagulopathy in COVID-19","volume":"18","author":"Thachil","year":"2020","journal-title":"J Thromb Haemost"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0016","doi-asserted-by":"crossref","first-page":"1054","DOI":"10.1016\/S0140-6736(20)30566-3","article-title":"Clinical course and risk factors for mortality of adult inpatients with COVID-19 in Wuhan, China: a retrospective cohort study","volume":"395","author":"Zhou","year":"2020","journal-title":"Lancet"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0017","doi-asserted-by":"crossref","first-page":"1752","DOI":"10.1111\/jth.14828","article-title":"Tissue plasminogen activator (tPA) treatment for COVID-19 associated acute respiratory distress syndrome (ARDS): a case series","volume":"18","author":"Wang","year":"2020","journal-title":"J Thromb Haemost"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0018","unstructured":"Hematology [internet]. Washington, DC. US; 2020. COVID-19 resources: COVID-19 and Coagulopathy: Frequently Asked Questions. 2020 Apr. [Cited: 2020 sept 27]. Available from : https:\/\/www.hematology.org\/covid-19\/covid-19-and-coagulopathy."},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0019","doi-asserted-by":"crossref","first-page":"E583","DOI":"10.1503\/cmaj.200685","article-title":"Coagulopathy associated with COVID-19","volume":"192","author":"Lee","year":"2020","journal-title":"CMAJ"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0020","unstructured":"Covid Treatment Group. Thromboprophylaxis and anticoagulation in COVID-19 infection. Imperial College Healthcare \u2013 NHS. V 0.1 08.04.2020"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0021","doi-asserted-by":"crossref","first-page":"145","DOI":"10.1016\/j.thromres.2020.04.013","article-title":"Incidence of thrombotic complications in critically ill ICU patients with COVID-19","volume":"191","author":"Klok","year":"2020","journal-title":"Thromb Res"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0022","doi-asserted-by":"crossref","first-page":"1324","DOI":"10.1111\/jth.14859","article-title":"D-dimer levels on admission to predict in-hospital mortality in patients with Covid-19","volume":"18","author":"Zhang","year":"2020","journal-title":"J Thromb Haemost"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0023","doi-asserted-by":"crossref","first-page":"1421","DOI":"10.1111\/jth.14830","article-title":"Prevalence of venous thromboembolism in patients with severe novel coronavirus pneumonia","volume":"18","author":"Cui","year":"2020","journal-title":"J Thromb Haemost"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0024","doi-asserted-by":"crossref","first-page":"1995","DOI":"10.1111\/jth.14888","article-title":"Incidence of venous thromboembolism in hospitalized patients with COVID-19","volume":"18","author":"Middeldorp","year":"2020","journal-title":"J Thromb Haemost"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0025","doi-asserted-by":"crossref","first-page":"1859","DOI":"10.1111\/jth.14929","article-title":"Scientific and Standardization Committee communication: clinical guidance on the diagnosis, prevention, and treatment of venous thromboembolism in hospitalized patients with COVID-19","volume":"18","author":"Spyropoulos","year":"2020","journal-title":"J Thromb Haemost"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0026","doi-asserted-by":"crossref","first-page":"1020","DOI":"10.1111\/jth.14821","article-title":"The versatile heparin in COVID-19","volume":"18","author":"Thachil","year":"2020","journal-title":"J Thromb Haemost"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0027","doi-asserted-by":"crossref","first-page":"2073","DOI":"10.1111\/jth.14902","article-title":"Anticoagulant and antiarrhythmic effects of heparin in the treatment of COVID-19 patients","volume":"18","author":"Menezes-Rodrigues","year":"2020","journal-title":"J Thromb Haemost"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0028","unstructured":"NICE guidelines venous thromboembolism: reducing the risk for patients in hospital. Available at: http:\/\/www.nice.org.uk\/guidance\/cg92"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0029","doi-asserted-by":"crossref","first-page":"3198","DOI":"10.1182\/bloodadvances.2018022954","article-title":"American Society of Hematology 2018 guidelines for management of venous thromboembolism: prophylaxis for hospitalized and nonhospitalized medical patients","volume":"2","author":"Sch\u00fcnemann","year":"2018","journal-title":"Blood Adv"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0030","first-page":"414","article-title":"Low-molecular-weight heparin treatment for acute lung injury \/ acute respiratory distress syndrome: a meta-analysis of randomized controlled trials","volume":"11","author":"Li","year":"2018","journal-title":"Int J Clin Exp Med"},{"key":"10.1016\/j.cpcardiol.2020.100742_bib0031","author":"Mousavi","volume":"2015","year":"2015","article-title":"Anti-inflammatory effects of heparin and its derivatives: a systematic review","journal-title":"Adv Pharmacol Sci"}],"container-title":["Current Problems in Cardiology"],"original-title":[],"language":"en","link":[{"URL":"https:\/\/api.elsevier.com\/content\/article\/PII:S0146280620302188?httpAccept=text\/xml","content-type":"text\/xml","content-version":"vor","intended-application":"text-mining"},{"URL":"https:\/\/api.elsevier.com\/content\/article\/PII:S0146280620302188?httpAccept=text\/plain","content-type":"text\/plain","content-version":"vor","intended-application":"text-mining"}],"deposited":{"date-parts":[[2021,5,1]],"date-time":"2021-05-01T05:39:50Z","timestamp":1619847590000},"score":1.0,"subtitle":[],"short-title":[],"issued":{"date-parts":[[2021,3]]},"references-count":31,"journal-issue":{"published-print":{"date-parts":[[2021,3]]},"issue":"3"},"alternative-id":["S0146280620302188"],"URL":"http:\/\/dx.doi.org\/10.1016\/j.cpcardiol.2020.100742","relation":{"cites":[]},"ISSN":["0146-2806"],"issn-type":[{"value":"0146-2806","type":"print"}],"subject":["Cardiology and Cardiovascular Medicine","General Medicine"],"assertion":[{"value":"Elsevier","name":"publisher","label":"This article is maintained by"},{"value":"Thrombosis and Coagulopathy in COVID-19","name":"articletitle","label":"Article Title"},{"value":"Current Problems in Cardiology","name":"journaltitle","label":"Journal Title"},{"value":"https:\/\/doi.org\/10.1016\/j.cpcardiol.2020.100742","name":"articlelink","label":"CrossRef DOI link to publisher maintained version"},{"value":"article","name":"content_type","label":"Content Type"},{"name":"copyright","label":"Copyright"}],"article-number":"100742"}}
        ''')

        data = json.loads('''
            {"status":"ok","message-type":"work","message-version":"1.0.0","message":{"indexed":{"date-parts":[[2021,6,1]],"date-time":"2021-06-01T14:43:04Z","timestamp":1622558584743},"reference-count":0,"publisher":"University of Illinois Libraries","content-domain":{"domain":[],"crossmark-restriction":false},"short-container-title":["FM"],"abstract":"<jats:p>How do librarians in Spain engage with Wikipedia (and Wikidata, Wikisource, and other Wikipedia sister projects) as Wikimedia Movement Organizers? And, what motivates them to do so? This article reports on findings from 14 interviews with 18 librarians. The librarians interviewed were multilingual and contributed to Wikimedia projects in Castilian (commonly referred to as Spanish), Catalan, Basque, English, and other European languages. They reported planning and running Wikipedia events, developing partnerships with local Wikimedia chapters, motivating citizens to upload photos to Wikimedia Commons, identifying gaps in Wikipedia content and filling those gaps, transcribing historic documents and adding them to Wikisource, and contributing data to Wikidata. Most were motivated by their desire to preserve and promote regional languages and culture, and a commitment to open access and open education.<\/jats:p>","DOI":"10.5210\/fm.v26i3.11482","type":"journal-article","created":{"date-parts":[[2021,6,1]],"date-time":"2021-06-01T14:27:13Z","timestamp":1622557633000},"source":"Crossref","is-referenced-by-count":0,"title":["Librarians as Wikimedia Movement Organizers in Spain: An interpretive inquiry exploring activities and motivations"],"prefix":"10.5210","author":[{"ORCID":"http:\/\/orcid.org\/0000-0002-2765-5440","authenticated-orcid":false,"given":"Laurie","family":"Bridges","sequence":"first","affiliation":[]},{"ORCID":"http:\/\/orcid.org\/0000-0003-3211-7396","authenticated-orcid":false,"given":"Clara","family":"Llebot","sequence":"additional","affiliation":[]}],"member":"3470","published-online":{"date-parts":[[2021,5,9]]},"container-title":["First Monday"],"original-title":[],"link":[{"URL":"https:\/\/journals.uic.edu\/ojs\/index.php\/fm\/article\/download\/11482\/10138","content-type":"text\/html","content-version":"vor","intended-application":"text-mining"},{"URL":"https:\/\/journals.uic.edu\/ojs\/index.php\/fm\/article\/download\/11482\/10138","content-type":"unspecified","content-version":"vor","intended-application":"similarity-checking"}],"deposited":{"date-parts":[[2021,6,1]],"date-time":"2021-06-01T14:27:13Z","timestamp":1622557633000},"score":1.0,"subtitle":[],"short-title":[],"issued":{"date-parts":[[2021,5,9]]},"references-count":0,"URL":"http:\/\/dx.doi.org\/10.5210\/fm.v26i3.11482","relation":{},"ISSN":["1396-0466"],"issn-type":[{"value":"1396-0466","type":"electronic"}],"subject":["Human-Computer Interaction","Computer Networks and Communications","Law"]}}

        ''')


        print(data['message']['abstract'])

        article = parse_crossref_json(data)
        self.assertEqual(article.doi, '10.5210/fm.v26i3.11482')
        self.assertEqual(article.title, 'Librarians as Wikimedia Movement Organizers in Spain: An interpretive inquiry exploring activities and motivations')
        self.assertEqual(article.family_name, 'Bridges')
        self.assertEqual(article.given_name, 'Laurie')
